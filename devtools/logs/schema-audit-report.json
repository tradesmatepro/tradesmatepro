{
  "timestamp": "2025-10-12T18:02:53.672Z",
  "tables": {
    "companies": {
      "exists": true,
      "empty": true
    },
    "work_orders": {
      "exists": true,
      "columns": [
        "actual_duration",
        "actual_end",
        "actual_start",
        "approval_ip_address",
        "approval_method",
        "approval_notes",
        "approval_signature",
        "approved_at",
        "approved_by",
        "assigned_technician_id",
        "assigned_to",
        "attachment_urls",
        "cancellation_initiated_by",
        "cancellation_notes",
        "cancellation_policy",
        "cancellation_reason",
        "cancelled_at",
        "cancelled_by",
        "change_details",
        "change_follow_up_date",
        "change_orders_total",
        "change_types",
        "change_urgency",
        "changes_requested_at",
        "closed_at",
        "company_id",
        "competitor_name",
        "completed_at",
        "completion_notes",
        "completion_photos",
        "created_at",
        "created_by",
        "custom_message",
        "customer_address_id",
        "customer_approved_at",
        "customer_equipment_id",
        "customer_feedback",
        "customer_id",
        "customer_ip_address",
        "customer_notes",
        "customer_reaction",
        "customer_satisfaction_rating",
        "customer_signature_data",
        "customer_signature_url",
        "delivery_method",
        "deposit_amount",
        "deposit_method",
        "deposit_percentage",
        "deposit_required",
        "deposit_type",
        "deposit_value",
        "description",
        "discount_amount",
        "discount_percentage",
        "document_urls",
        "due_date",
        "email_bounce_reason",
        "email_bounced",
        "email_clicked_at",
        "email_delivered_at",
        "email_id",
        "email_opened_at",
        "employee_id",
        "estimated_completion_date",
        "estimated_duration",
        "estimated_duration_hours",
        "estimated_resume_date",
        "expiration_date",
        "expiration_reminder_sent",
        "expired_at",
        "expired_notes",
        "final_notes",
        "flat_rate_amount",
        "follow_up_date",
        "follow_up_method",
        "follow_up_notes",
        "follow_up_reason",
        "follow_up_reminder",
        "follow_up_reminder_days",
        "follow_up_reminder_sent",
        "follow_up_reminder_sent_at",
        "follow_up_reminder_time",
        "follow_up_scheduled_at",
        "follow_up_time",
        "has_change_orders",
        "id",
        "initial_invoice_id",
        "internal_notes",
        "invoice_date",
        "invoice_notes",
        "invoice_sent_at",
        "invoice_viewed_at",
        "invoiced_at",
        "labor_summary",
        "last_viewed_at",
        "lessons_learned",
        "materials_used",
        "next_steps",
        "notes",
        "on_hold_at",
        "on_hold_by",
        "on_hold_issue_resolved",
        "on_hold_notes",
        "on_hold_reason",
        "paid_at",
        "payment_amount",
        "payment_method",
        "payment_notes",
        "payment_reference",
        "payment_schedule",
        "payment_terms",
        "percentage",
        "percentage_base_amount",
        "photo_urls",
        "portal_link_expires_at",
        "portal_token",
        "preferred_start_date",
        "presentation_next_steps",
        "presentation_notes",
        "presented_at",
        "presented_by",
        "presented_time",
        "pricing_model",
        "priority",
        "quote_accepted_at",
        "quote_expires_at",
        "quote_notes",
        "quote_number",
        "quote_parent_id",
        "quote_rejected_at",
        "quote_rejection_reason",
        "quote_sent_at",
        "quote_terms",
        "quote_version",
        "quote_viewed_at",
        "recurring_interval",
        "rejected_at",
        "rejection_competitor_name",
        "rejection_notes",
        "rejection_reason",
        "renewed_at",
        "request_review",
        "requires_signature",
        "requires_site_visit",
        "rescheduling_notes",
        "rescheduling_reason",
        "rescheduling_requested_at",
        "rescheduling_requested_by",
        "resume_notes",
        "resumed_at",
        "scheduled_end",
        "scheduled_start",
        "sent_at",
        "sent_to_email",
        "sent_to_phone",
        "sent_via",
        "service_address_id",
        "service_address_line_1",
        "service_address_line_2",
        "service_category_id",
        "service_city",
        "service_location_lat",
        "service_location_lng",
        "service_location_type",
        "service_state",
        "service_type_id",
        "service_zip_code",
        "special_instructions",
        "start_notes",
        "started_at",
        "status",
        "subtotal",
        "tax_amount",
        "tax_exempt",
        "tax_exemption_id",
        "tax_jurisdiction_ids",
        "tax_rate",
        "technician_signature_url",
        "terms_and_conditions",
        "time_window_end",
        "time_window_start",
        "timer_enabled",
        "title",
        "total_amount",
        "unit_count",
        "unit_price",
        "updated_at",
        "urgency_level",
        "view_count",
        "viewed_at",
        "warranty_info",
        "work_order_number",
        "work_performed"
      ],
      "columnCount": 193
    },
    "work_order_line_items": {
      "exists": true,
      "columns": [
        "created_at",
        "description",
        "id",
        "line_type",
        "quantity",
        "sort_order",
        "tax_amount",
        "tax_rate",
        "taxable",
        "total_price",
        "unit_price",
        "work_order_id"
      ],
      "columnCount": 12
    },
    "rate_cards": {
      "exists": true,
      "empty": true
    },
    "employees": {
      "exists": true,
      "empty": true
    },
    "customers": {
      "exists": true,
      "columns": [
        "billing_address_line_1",
        "billing_address_line_2",
        "billing_city",
        "billing_country",
        "billing_state",
        "billing_zip_code",
        "communication_preferences",
        "company_id",
        "company_name",
        "created_at",
        "credit_limit",
        "customer_number",
        "customer_since",
        "email",
        "first_name",
        "id",
        "is_active",
        "last_name",
        "mobile_phone",
        "name",
        "notes",
        "payment_terms",
        "phone",
        "preferred_contact",
        "preferred_contact_method",
        "preferred_contact_time",
        "primary_contact_email",
        "primary_contact_name",
        "primary_contact_phone",
        "source",
        "status",
        "tax_exempt",
        "type",
        "updated_at"
      ],
      "columnCount": 34
    },
    "schedule_events": {
      "exists": true,
      "empty": true
    },
    "invoices": {
      "exists": true,
      "empty": true
    },
    "invoice_items": {
      "exists": false
    },
    "settings": {
      "exists": true,
      "empty": true
    },
    "profiles": {
      "exists": true,
      "empty": true
    },
    "users": {
      "exists": true,
      "empty": true
    }
  },
  "driftIssues": [
    {
      "table": "companies",
      "issue": "missing_license_column",
      "severity": "high",
      "fix": "Add licenses JSONB column or license_number TEXT column"
    },
    {
      "table": "companies",
      "issue": "missing_scheduling_columns",
      "severity": "medium",
      "columns": [
        "job_buffer_minutes",
        "default_buffer_before_minutes",
        "default_buffer_after_minutes",
        "business_hours_start",
        "business_hours_end",
        "working_days"
      ]
    },
    {
      "table": "rate_cards",
      "issue": "missing_sort_order",
      "severity": "low",
      "fix": "Add sort_order INTEGER DEFAULT 0"
    }
  ],
  "summary": {
    "totalTables": 12,
    "tablesFound": 11,
    "tablesMissing": 1,
    "tablesRlsBlocked": 0,
    "driftIssuesCount": 3
  }
}